%% The following is a directive for TeXShop to indicate the main file
%%!TEX root = main.tex

% ===========================================================================================
\chapter{\textbf{Experimental Setup}}
\label{sec4:ExperimentalDetail}

This chapter first describes the details of the two test-beds on which CORGIDS was tested and the attacks to be planted. It then discusses the experimental procedures, and the experimental parameters that were chosen. Finally, it presents the evaluation criteria which will be used in ~\autoref{sec6:Evaluation}.

\section{Test-beds}
To demonstrate that CORGIDS is generic, two CPS test-beds were chosen on which the experiments were carried out. These test-beds contain correlated properties and a predefined framework according to which the properties change their values. 
\begin{enumerate}
\item Unmanned Aerial Vehicle (UAV): 


An UAV, commonly known as a drone, is a type of aircraft different from others mainly because it does not have a pilot aboard. UAV's periodically send the flight data to the GCS to keep it updated about its whereabouts.
 
A UAV mainly consists of sensors, control logic and actuators forming a closed loop. The sensors sense the current state of the UAV and its environment and pass it on to the controller, which makes the decision about the next step to be taken. The decision taken is then sent to the actuator - this loop runs infinitely while the UAV is in operation. ArduPilot's Software in the Loop (SITL) ~\cite{ArdupilotSITL} was used for the experiments. ArduPilot is an open-source autopilot software and is vastly deployed on various vehicle systems. SITL was chosen as the test-bed on a local machine due to lack of a real UAV.  


\begin{figure}%
    \centering
    \subfloat[Real drone]{{\includegraphics[width=6cm]{Graphics/drone.png} }}%
    \qquad
    \subfloat[ArduPilot's SITL]{{\includegraphics[width=6cm]{Graphics/sitl.jpg} }}%
    \caption{Drones}%
    \label{fig:drone}%
\end{figure}


\item Smart Artificial Pancreas (SAP): SAP is a device used by the diabetic patients to automatically analyze the insulin dosage to be injected into the patient based on the blood glucose level. SAP helps in reducing human error and analyzes the current blood glucose levels regularly at fixed intervals of time. A SAP consists mainly of i) a blood glucose monitor, which reads the blood glucose levels of the patients at regular interval of time, ii) a controller, which based on the blood glucose values decides the insulin that needs to be injected, iii) an insulin pump, which based on the value generated by the controller, injects a specific amount of insulin into the patient. Open Artificial Pancreas System (OpenAPS) an open source SAP was used to evaluate CORGIDS. OpenAPS implements the controller part of the SAP, and has been used in prior studies~\cite{aliabadi2017artinali}. As there was no real patient, I used the simulated values from blood glucose monitor and the insulin pump for our experiments. The values of blood glucose  were taken from the test cases provided by OpenAPS, instead from the blood glucose monitor. These values were then served as input to the OpenAPS to get the amount of insulin required by the patient. The OpenAPS controller was installed on a Raspberry Pi 3 microprocessor to evaluate the memory and performance overhead of CORGIDS.

\begin{figure}[ht]
    \centering
    \includegraphics[scale=0.55,keepaspectratio = true]{Graphics/openaps.png}
    \caption{Components of an OpenAPS platform}
    \label{fig:OpenAPS}
\end{figure}
\end{enumerate}

\section{Experimental Procedure}
To evaluate CORGIDS's efficacy, the process of attack detection was partitioned  into two phases, namely training phase and testing phase. The system traces obtained from SUT were randomly divided into training and testing batches. The training phase is the one in which the intrusion detector is trained from the non-faulty system traces that are randomly assigned. Sensitivity analysis is also performed to analyze the value of the parameters which have the most impact on the performance of the intrusion detector. For instance, for the UAV testbed, routes which the UAV used as the flight plan were randomly generated. Therefore, after having the UAV simulator fly on all the randomly generated routes, the non-faulty system traces were obtained. These logs were then randomly distributed for training and testing phases. In the testing phase, the intrusion detector which was built in training phase, was used to find out if an intrusion was correctly detected. The results were then used to gauge the performance of CORGIDS based on the evaluation criteria. In order to reduce variability, five-fold cross validation was run for each of the attacks described above.

%CORGIDS is implemented in Python and spans over 200 lines of code.


\endinput
=====================================================================
% EOF